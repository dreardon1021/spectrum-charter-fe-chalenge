(this["webpackJsonpcharter-spectrum-challenge"]=this["webpackJsonpcharter-spectrum-challenge"]||[]).push([[0],[,,,,,,,function(t,e,a){},,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var s=a(0),r=a(1),n=a.n(r),i=a(10),l=a.n(i),c=(a(16),a(3)),o=a(4),u=a(2),h=a(6),p=a(5),b=(a(7),a(17),function(t){var e=t.logoResetTable,a=t.allRestaurantData;return Object(s.jsx)("nav",{"data-testid":"nav",children:Object(s.jsx)("h1",{onClick:function(){return e(a)},className:"logo cursor-pointer",children:"Restauraunt Locator"})})}),d=(a(18),a(8)),f=(a(19),function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(t){var s,r=t.updateCurrentSearchData,n=t.formResetTable,i=t.allRestaurantData;return Object(c.a)(this,a),(s=e.call(this,{updateCurrentSearchData:r,formResetTable:n,allRestaurantData:i})).state={searchValue:""},s}return Object(o.a)(a,[{key:"updateSearchState",value:function(t){var e=this;this.setState(Object(d.a)({},t.target.name,t.target.value),(function(){e.resetOnInputDelete(t)}))}},{key:"resetOnInputDelete",value:function(t){var e=this.state.searchValue;""===t.target.value&&(this.props.formResetTable(this.props.allRestaurantData),this.props.updateCurrentSearchData(e))}},{key:"submitSearchForm",value:function(t){t.preventDefault();var e=this.state.searchValue;this.props.updateCurrentSearchData(e)}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("form",{className:"search-form",children:[Object(s.jsx)("input",{className:"search-input",name:"searchValue",value:this.state.searchValue,placeholder:"Search by name, city, or genre",onChange:function(e){return t.updateSearchState(e)}}),Object(s.jsx)("button",{onClick:function(e){return t.submitSearchForm(e)},className:"cursor-pointer search-filter-btn",type:"submit",children:"Search"})]})}}]),a}(r.Component)),j=(a(20),function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(t){var s,r=t.filterData,n=t.possibleRestaurantStates,i=t.possibleRestaurantGenres;t.possibleRestaurantAttire;return Object(c.a)(this,a),(s=e.call(this,{filterData:r,possibleRestaurantStates:n,possibleRestaurantGenres:i})).state={currentGenreFilter:"",currentStateFilter:"",currentAttireFilter:""},s}return Object(o.a)(a,[{key:"updateFiltersOnChange",value:function(t){var e=this;this.setState(Object(d.a)({},t.target.name,t.target.value),(function(){e.props.filterData(e.state.currentGenreFilter,e.state.currentStateFilter,e.state.currentAttireFilter)}))}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("form",{className:"filter-form",children:[Object(s.jsxs)("div",{className:"genre-state-select-container",children:[Object(s.jsx)("label",{htmlFor:"select-genre",className:"filter-headers",children:"Select Genre:"}),Object(s.jsxs)("select",{onChange:function(e){return t.updateFiltersOnChange(e)},className:"filter-select",name:"currentGenreFilter",children:[Object(s.jsx)("option",{value:"",children:"No Filter"}),this.props.possibleRestaurantGenres.map((function(t){return Object(s.jsx)("option",{value:t,children:t},t)}))]})]}),Object(s.jsxs)("div",{className:"genre-state-select-container",children:[Object(s.jsx)("label",{htmlFor:"select-state",className:"filter-headers",children:"Select State:"}),Object(s.jsxs)("select",{onChange:function(e){return t.updateFiltersOnChange(e)},className:"filter-select",name:"currentStateFilter",children:[Object(s.jsx)("option",{value:"",children:"No Filter"}),this.props.possibleRestaurantStates.map((function(t){return Object(s.jsx)("option",{value:t,children:t},t)}))]})]}),Object(s.jsxs)("div",{className:"genre-state-select-container",children:[Object(s.jsx)("label",{htmlFor:"select-state",className:"filter-headers",children:"Select Attire:"}),Object(s.jsxs)("select",{onChange:function(e){return t.updateFiltersOnChange(e)},className:"filter-select",name:"currentAttireFilter",children:[Object(s.jsx)("option",{value:"",children:"No Filter"}),this.props.possibleRestaurantAttire.map((function(t){return Object(s.jsx)("option",{value:t,children:t},t)}))]})]})]})}}]),a}(r.Component)),D=(a(21),function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(t){var s,r=t.sortDisplayDataByState,n=t.sortDisplayDataByName;return Object(c.a)(this,a),(s=e.call(this,{sortDisplayDataByState:r,sortDisplayDataByName:n})).state={sortByName:!0,sortByState:!1},s}return Object(o.a)(a,[{key:"sortByState",value:function(){var t=this;this.setState({sortByName:!1,sortByState:!0},(function(){t.props.sortDisplayDataByState()}))}},{key:"sortByName",value:function(){var t=this;this.setState({sortByName:!0,sortByState:!1},(function(){t.props.sortDisplayDataByName()}))}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("section",{className:"sort-buttons-container",children:[Object(s.jsx)("button",{className:(!0===this.state.sortByName?"active ":"")+"sort-button cursor-pointer",onClick:function(){return t.sortByName()},children:"Sort by Name"}),Object(s.jsx)("button",{className:(!0===this.state.sortByState?"active ":"")+"sort-button cursor-pointer",onClick:function(){return t.sortByState()},children:"Sort by State"})]})}}]),a}(r.Component)),m=function(t){var e=t.filterData,a=t.formResetTable,r=t.sortDisplayDataByState,n=t.sortDisplayDataByName,i=t.allRestaurantData,l=t.updateCurrentSearchData,c=t.possibleRestaurantGenres,o=t.possibleRestaurantStates,u=t.possibleRestaurantAttire;return Object(s.jsxs)("section",{className:"search-container",children:[Object(s.jsx)(f,{allRestaurantData:i,formResetTable:a,updateCurrentSearchData:l}),Object(s.jsx)(j,{allRestaurantData:i,filterData:e,possibleRestaurantStates:o,possibleRestaurantGenres:c,possibleRestaurantAttire:u}),Object(s.jsx)(D,{sortDisplayDataByState:r,sortDisplayDataByName:n})]})},y=(a(22),function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(t){var s,r=t.dataToDisplay;return Object(c.a)(this,a),(s=e.call(this,{dataToDisplay:r})).handleClick=s.handleClick.bind(Object(u.a)(s)),s.state={currentPage:1,restaurantsPerPage:10},s}return Object(o.a)(a,[{key:"handleClick",value:function(t){this.setState({currentPage:Number(t.target.id)})}},{key:"render",value:function(){var t=this,e=this.state,a=e.currentPage,r=e.restaurantsPerPage;a=this.props.dataToDisplay.length<10?1:a,this.state.currentPage!==a&&this.setState({currentPage:1});for(var n=a*r,i=n-r,l=this.props.dataToDisplay.slice(i,n).map((function(t,e){var a=t.genre.split(",").join(", ");return Object(s.jsxs)("tr",{className:"restaurant-table-row",children:[Object(s.jsx)("td",{className:"restaurant-table-data-cell name-cell",children:t.name}),Object(s.jsx)("td",{className:"restaurant-table-data-cell city-cell",children:t.city}),Object(s.jsx)("td",{className:"restaurant-table-data-cell state-cell",children:t.state}),Object(s.jsx)("td",{className:"restaurant-table-data-cell telephone-cell",children:t.telephone}),Object(s.jsx)("td",{className:"restaurant-table-data-cell genre-cell",children:a})]},e)})),c=[],o=1;o<=Math.ceil(this.props.dataToDisplay.length/r);o++)c.push(o);var u=c.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)("button",{id:e,onClick:t.handleClick,className:(t.state.currentPage===e?"active ":"")+"page-button cursor-pointer",children:e})},e)}));return 0!==this.props.dataToDisplay.length?Object(s.jsxs)("section",{className:"table-container",children:[Object(s.jsx)("h2",{className:"table-header",children:"Available Restaurants"}),Object(s.jsx)("table",{className:"restaurant-table",children:Object(s.jsx)("tbody",{className:"restaurant-table-body",children:l})}),Object(s.jsx)("ul",{className:"page-numbers-container",children:u})]}):Object(s.jsx)("section",{className:"table-container error-container",children:Object(s.jsx)("h2",{children:"No Restaurants Found in Search/Filter"})})}}]),a}(r.Component)),O=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).logoResetTable=t.logoResetTable.bind(Object(u.a)(t)),t.updateCurrentSearchData=t.updateCurrentSearchData.bind(Object(u.a)(t)),t.filterData=t.filterData.bind(Object(u.a)(t)),t.formResetTable=t.formResetTable.bind(Object(u.a)(t)),t.sortDisplayDataByState=t.sortDisplayDataByState.bind(Object(u.a)(t)),t.sortDisplayDataByName=t.sortDisplayDataByName.bind(Object(u.a)(t)),t.state={allRestaurantData:[],currentSearchData:[],currentFilterData:[],dataToDisplay:[],possibleRestaurantStates:[],possibleRestaurantGenres:[],possibleRestaurantAttire:[],filterOn:!1,searchOn:!1,sortByState:!1,sortByName:!0},t}return Object(o.a)(a,[{key:"findPossibleRestaurantStates",value:function(t){var e=[];return t.forEach((function(t){e.includes(t.state)||e.push(t.state)})),e}},{key:"findPossibleRestaurantAttire",value:function(t){var e=[];return t.forEach((function(t){var a=t.attire.charAt(0).toUpperCase()+t.attire.slice(1);e.includes(a)||e.push(a)})),e}},{key:"findPossibleRestaurantGenres",value:function(t){var e=[];return t.forEach((function(t){t.genre.split(",").forEach((function(t){e.includes(t)||e.push(t)}))})),e}},{key:"componentDidMount",value:function(){var t=this;fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(t){return t.json()})).then((function(e){return t.setState({allRestaurantData:e,currentSearchData:e,currentFilterData:e,dataToDisplay:e.sort((function(t,e){return t.name.localeCompare(e.name)})),possibleRestaurantStates:t.findPossibleRestaurantStates(e),possibleRestaurantGenres:t.findPossibleRestaurantGenres(e),possibleRestaurantAttire:t.findPossibleRestaurantAttire(e)})}))}},{key:"sortDisplayDataByState",value:function(){this.setState({dataToDisplay:this.state.dataToDisplay.sort((function(t,e){return t.state.localeCompare(e.state)})),sortByState:!0,sortByName:!1})}},{key:"sortDisplayDataByName",value:function(){this.setState({dataToDisplay:this.state.dataToDisplay.sort((function(t,e){return t.name.localeCompare(e.name)})),sortByState:!1,sortByName:!0})}},{key:"adjustDisplayedData",value:function(){var t,e=this;t=!1===this.state.filterOn&&!0===this.state.searchOn?this.state.currentSearchData:!0===this.state.filterOn&&!1===this.state.searchOn?this.state.currentFilterData:!0===this.state.searchOn&&!0===this.state.filterOn?this.state.currentFilterData.filter((function(t){if(e.state.currentSearchData.includes(t))return t})):this.state.allRestaurantData,!0===this.state.sortByName&&!1===this.state.sortByState?this.setState({dataToDisplay:t.sort((function(t,e){return t.name.localeCompare(e.name)}))}):!1===this.state.sortByName&&!0===this.state.sortByState&&this.setState({dataToDisplay:t.sort((function(t,e){return t.state.localeCompare(e.state)}))})}},{key:"filterData",value:function(t,e,a){var s=this,r=this.state.allRestaurantData.filter((function(s){var r=s.genre.split(","),n=s.attire.charAt(0).toUpperCase()+s.attire.slice(1);return r.includes(t)&&s.state===e&&n===a&&""!==e&&""!==t&&""!==a||r.includes(t)&&""===e&&""!==t&&""===a||s.state===e&&""!==e&&""===t&&""===a||n===a&&""===e&&""===t&&""!==a||s.state===e&&r.includes(t)&&""!==e&&""!==t&&""===a||r.includes(t)&&n===a&&""===e&&""!==t&&""!==a||s.state===e&&n===a&&""!==e&&""===t&&""!==a||""===e&&""===t&&""===a?s:void 0}));this.setState({currentFilterData:r,filterOn:!0},(function(){s.adjustDisplayedData()})),""===e&&""===t&&""===a&&this.setState({filterOn:!1},(function(){s.adjustDisplayedData()}))}},{key:"formResetTable",value:function(t){this.setState({currentSearchData:t})}},{key:"logoResetTable",value:function(t){this.setState({currentSearchData:t,currentFilterData:t,dataToDisplay:t})}},{key:"updateCurrentSearchData",value:function(t){var e=this,a=[];this.state.allRestaurantData.forEach((function(e){(e.name.toLowerCase().match(t.toLowerCase())||e.city.toLowerCase().match(t.toLowerCase())||e.genre.toLowerCase().match(t.toLowerCase()))&&a.push(e)})),this.setState({currentSearchData:a,searchOn:!0},(function(){e.adjustDisplayedData()})),""===t&&this.setState({searchOn:!1},(function(){e.adjustDisplayedData()}))}},{key:"render",value:function(){return Object(s.jsxs)("main",{children:[Object(s.jsx)(b,{logoResetTable:this.logoResetTable,allRestaurantData:this.state.allRestaurantData}),Object(s.jsx)(m,{updateCurrentSearchData:this.updateCurrentSearchData,formResetTable:this.formResetTable,filterData:this.filterData,sortDisplayDataByState:this.sortDisplayDataByState,sortDisplayDataByName:this.sortDisplayDataByName,allRestaurantData:this.state.allRestaurantData,possibleRestaurantStates:this.state.possibleRestaurantStates,possibleRestaurantGenres:this.state.possibleRestaurantGenres,possibleRestaurantAttire:this.state.possibleRestaurantAttire}),Object(s.jsx)(y,{dataToDisplay:this.state.dataToDisplay})]})}}]),a}(r.Component),S=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(e){var a=e.getCLS,s=e.getFID,r=e.getFCP,n=e.getLCP,i=e.getTTFB;a(t),s(t),r(t),n(t),i(t)}))};l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(O,{})}),document.getElementById("root")),S()}],[[23,1,2]]]);
//# sourceMappingURL=main.d4f8e1d9.chunk.js.map