(this["webpackJsonpcharter-spectrum-challenge"]=this["webpackJsonpcharter-spectrum-challenge"]||[]).push([[0],[,,,,,,,function(t,e,a){},,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var r=a(0),s=a(1),n=a.n(s),c=a(10),l=a.n(c),i=(a(16),a(3)),u=a(4),o=a(2),h=a(6),b=a(5),d=(a(7),a(17),function(t){var e=t.logoResetTable,a=t.allRestaurantData;return Object(r.jsx)("nav",{children:Object(r.jsx)("h1",{onClick:function(){return e(a)},className:"logo cursor-pointer",children:"Restauraunt Locator"})})}),p=(a(18),a(8)),f=(a(19),function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var r,s=t.updateCurrentSearchData,n=t.formResetTable,c=t.allRestaurantData;return Object(i.a)(this,a),(r=e.call(this,{updateCurrentSearchData:s,formResetTable:n,allRestaurantData:c})).state={searchValue:""},r}return Object(u.a)(a,[{key:"updateSearchState",value:function(t){var e=this;this.setState(Object(p.a)({},t.target.name,t.target.value),(function(){e.resetOnInputDelete(t)}))}},{key:"resetOnInputDelete",value:function(t){var e=this.state.searchValue;""===t.target.value&&(this.props.formResetTable(this.props.allRestaurantData),this.props.updateCurrentSearchData(e))}},{key:"submitSearchForm",value:function(t){t.preventDefault();var e=this.state.searchValue;this.props.updateCurrentSearchData(e)}},{key:"render",value:function(){var t=this;return Object(r.jsxs)("form",{className:"search-form",children:[Object(r.jsx)("input",{className:"search-input",name:"searchValue",value:this.state.searchValue,placeholder:"Search by name, city, or genre",onChange:function(e){return t.updateSearchState(e)}}),Object(r.jsx)("button",{onClick:function(e){return t.submitSearchForm(e)},className:"cursor-pointer search-filter-btn",type:"submit",children:"Search"})]})}}]),a}(s.Component)),j=(a(20),function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var r,s=t.filterData,n=t.possibleRestaurantStates,c=t.possibleRestaurantGenres;return Object(i.a)(this,a),(r=e.call(this,{filterData:s,possibleRestaurantStates:n,possibleRestaurantGenres:c})).state={currentGenreFilter:"",currentStateFilter:""},r}return Object(u.a)(a,[{key:"updateFiltersOnChange",value:function(t){var e=this;this.setState(Object(p.a)({},t.target.name,t.target.value),(function(){e.props.filterData(e.state.currentGenreFilter,e.state.currentStateFilter)}))}},{key:"render",value:function(){var t=this;return Object(r.jsxs)("form",{className:"filter-form",children:[Object(r.jsxs)("div",{className:"genre-state-select-container",children:[Object(r.jsx)("label",{htmlFor:"select-genre",className:"filter-headers",children:"Select Genre:"}),Object(r.jsxs)("select",{onChange:function(e){return t.updateFiltersOnChange(e)},className:"filter-select",name:"currentGenreFilter",children:[Object(r.jsx)("option",{value:"",children:"No Filter"}),this.props.possibleRestaurantGenres.map((function(t){return Object(r.jsx)("option",{value:t,children:t},t)}))]})]}),Object(r.jsxs)("div",{className:"genre-state-select-container",children:[Object(r.jsx)("label",{htmlFor:"select-state",className:"filter-headers",children:"Select State:"}),Object(r.jsxs)("select",{onChange:function(e){return t.updateFiltersOnChange(e)},className:"filter-select",name:"currentStateFilter",children:[Object(r.jsx)("option",{value:"",children:"No Filter"}),this.props.possibleRestaurantStates.map((function(t){return Object(r.jsx)("option",{value:t,children:t},t)}))]})]})]})}}]),a}(s.Component)),m=function(t){var e=t.filterData,a=t.formResetTable,s=t.allRestaurantData,n=t.updateCurrentSearchData,c=t.possibleRestaurantGenres,l=t.possibleRestaurantStates;return Object(r.jsxs)("section",{className:"search-container",children:[Object(r.jsx)(f,{allRestaurantData:s,formResetTable:a,updateCurrentSearchData:n}),Object(r.jsx)(j,{allRestaurantData:s,filterData:e,possibleRestaurantStates:l,possibleRestaurantGenres:c})]})},O=(a(21),function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var r,s=t.dataToDisplay;return Object(i.a)(this,a),(r=e.call(this,{dataToDisplay:s})).handleClick=r.handleClick.bind(Object(o.a)(r)),r.state={currentPage:1,restaurantsPerPage:10},r}return Object(u.a)(a,[{key:"handleClick",value:function(t){this.setState({currentPage:Number(t.target.id)})}},{key:"render",value:function(){var t=this,e=this.state,a=e.currentPage,s=e.restaurantsPerPage;a=this.props.dataToDisplay.length<10?1:a,this.state.currentPage!==a&&this.setState({currentPage:1});for(var n=a*s,c=n-s,l=this.props.dataToDisplay.slice(c,n).map((function(t,e){var a=t.genre.split(",").join(", ");return Object(r.jsxs)("tr",{className:"restaurant-table-row",children:[Object(r.jsx)("td",{className:"restaurant-table-data-cell name-cell",children:t.name}),Object(r.jsx)("td",{className:"restaurant-table-data-cell city-cell",children:t.city}),Object(r.jsx)("td",{className:"restaurant-table-data-cell state-cell",children:t.state}),Object(r.jsx)("td",{className:"restaurant-table-data-cell telephone-cell",children:t.telephone}),Object(r.jsx)("td",{className:"restaurant-table-data-cell genre-cell",children:a})]},e)})),i=[],u=1;u<=Math.ceil(this.props.dataToDisplay.length/s);u++)i.push(u);var o=i.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)("button",{id:e,onClick:t.handleClick,className:(t.state.currentPage===e?"active ":"")+"page-button cursor-pointer",children:e})},e)}));return 0!==this.props.dataToDisplay.length?Object(r.jsxs)("section",{className:"table-container",children:[Object(r.jsx)("h2",{className:"table-header",children:"Available Restaurants"}),Object(r.jsx)("table",{className:"restaurant-table",children:Object(r.jsx)("tbody",{classname:"restaurant-table-body",children:l})}),Object(r.jsx)("ul",{className:"page-numbers-container",children:o})]}):Object(r.jsx)("section",{className:"table-container error-container",children:Object(r.jsx)("h2",{children:"No Restaurants Found in Search/Filter"})})}}]),a}(s.Component)),D=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).logoResetTable=t.logoResetTable.bind(Object(o.a)(t)),t.updateCurrentSearchData=t.updateCurrentSearchData.bind(Object(o.a)(t)),t.filterData=t.filterData.bind(Object(o.a)(t)),t.formResetTable=t.formResetTable.bind(Object(o.a)(t)),t.state={allRestaurantData:[],currentSearchData:[],currentFilterData:[],dataToDisplay:[],possibleRestaurantStates:[],possibleRestaurantGenres:[],filterOn:!1,searchOn:!1},t}return Object(u.a)(a,[{key:"findPossibleRestaurantStates",value:function(t){var e=[];return t.forEach((function(t){e.includes(t.state)||e.push(t.state)})),e}},{key:"findPossibleRestaurantGenres",value:function(t){var e=[];return t.forEach((function(t){t.genre.split(",").forEach((function(t){e.includes(t)||e.push(t)}))})),e}},{key:"componentDidMount",value:function(){var t=this;fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(t){return t.json()})).then((function(e){return t.setState({allRestaurantData:e,currentSearchData:e,currentFilterData:e,dataToDisplay:e.sort((function(t,e){return t.name.localeCompare(e.name)})),possibleRestaurantStates:t.findPossibleRestaurantStates(e),possibleRestaurantGenres:t.findPossibleRestaurantGenres(e)})}))}},{key:"adjustDisplayedData",value:function(){var t,e=this;t=!1===this.state.filterOn&&!0===this.state.searchOn?this.state.currentSearchData:!0===this.state.filterOn&&!1===this.state.searchOn?this.state.currentFilterData:!0===this.state.searchOn&&!0===this.state.filterOn?this.state.currentFilterData.filter((function(t){if(e.state.currentSearchData.includes(t))return t})):this.state.allRestaurantData,this.setState({dataToDisplay:t.sort((function(t,e){return t.name.localeCompare(e.name)}))})}},{key:"filterData",value:function(t,e){var a=this,r=this.state.allRestaurantData.filter((function(a){var r=a.genre.split(",");return r.includes(t)&&a.state===e&&""!==e&&""!==t||r.includes(t)&&""===e&&""!==t||a.state===e&&""!==e&&""===t||""===e&&""===t?a:void 0}));this.setState({currentFilterData:r,filterOn:!0},(function(){a.adjustDisplayedData()})),""===e&&""===t&&this.setState({filterOn:!1},(function(){a.adjustDisplayedData()}))}},{key:"formResetTable",value:function(t){this.setState({currentSearchData:t})}},{key:"logoResetTable",value:function(t){this.setState({currentSearchData:t,currentFilterData:t,dataToDisplay:t})}},{key:"updateCurrentSearchData",value:function(t){var e=this,a=[];this.state.allRestaurantData.forEach((function(e){(e.name.toLowerCase().match(t.toLowerCase())||e.city.toLowerCase().match(t.toLowerCase())||e.genre.toLowerCase().match(t.toLowerCase()))&&a.push(e)})),this.setState({currentSearchData:a,searchOn:!0},(function(){e.adjustDisplayedData()}))}},{key:"render",value:function(){return Object(r.jsxs)("main",{children:[Object(r.jsx)(d,{logoResetTable:this.logoResetTable,allRestaurantData:this.state.allRestaurantData}),Object(r.jsx)(m,{updateCurrentSearchData:this.updateCurrentSearchData,formResetTable:this.formResetTable,filterData:this.filterData,allRestaurantData:this.state.allRestaurantData,possibleRestaurantStates:this.state.possibleRestaurantStates,possibleRestaurantGenres:this.state.possibleRestaurantGenres}),Object(r.jsx)(O,{dataToDisplay:this.state.dataToDisplay})]})}}]),a}(s.Component),v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,23)).then((function(e){var a=e.getCLS,r=e.getFID,s=e.getFCP,n=e.getLCP,c=e.getTTFB;a(t),r(t),s(t),n(t),c(t)}))};l.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),v()}],[[22,1,2]]]);
//# sourceMappingURL=main.2f5c742b.chunk.js.map